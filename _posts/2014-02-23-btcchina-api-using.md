---
layout: post
published: true
title: 利用比特币中国提供的api自动进行比特币交易的脚本——一次不成功的编程
---

因为最近比特币大热，所以我也有进行过一点小额度投资，主要是在比特币中国这个场子内搞，央行出台不许充值的规定不久后比特币中国推出maker-taker机制，说辞是用以用户们抑制过度投机。  
BtcChina的k线图显示有不少挂单是随着当前成交价格而实时、瞬间挂出的，这说明有人使用程序来挂单，也说明恰当利用这个机制能够获利。观察到这个现象，我便开始动了心思。  
比特币中国提供了可以实现查询、交易、提现等动作的api，并有一点文档。再经过若干搜索之后，发现所需要的东西都够了，遂动手写了个交易脚本，循环执行。  

主要思路是：

* 获取本账户所持现金、比特币余额、挂单情况；
* 获取当前最新成交价格
* 根据设定条件撤单、再自动以最新成交价格的±0.01元价格下买/卖单

最终达到不停买入卖出，不停成交，赚到手续费，而无论市场走低或走高。  
对于这个实实在在涉及金钱操作的脚本，我思考得无比谨慎，大约花了3天之后，它可以说完美地实现了我的需求，不断去获取账户信息、进行买卖下单撤单;如果网络堵塞中断，它会发出警报以提醒。  
然后遗憾的是，实践证明，从赚钱的角度来看这个思路一开始就是错的，脚本运行2天之后我看到它数十个挂单交易总是“高买低抛”，而所赚取的交易返利不足以弥补这个损失，最终的结果便是账户的现金或比特币逐渐轻微的减少。  
那么，现在那些每秒钟都在挂单抛单的机器人们，它们背后是什么操作策略来确保获利呢？这是个值得探索的问题，如果找到答案，或许便可不必为斗米折腰、安心去做其他更有意义的事。  
但从编程生涯来看，这个过程非常享受，激情，肾上腺素极大分泌，非常好的体验。  
